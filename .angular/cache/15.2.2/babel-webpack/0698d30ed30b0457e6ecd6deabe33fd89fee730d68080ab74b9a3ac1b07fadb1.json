{"ast":null,"code":"import { ModalController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@ionic/storage\";\nimport * as i3 from \"@angular/forms\";\nexport let AddRoomPage = /*#__PURE__*/(() => {\n  class AddRoomPage {\n    constructor(modalCtrl, storage) {\n      this.modalCtrl = modalCtrl;\n      this.storage = storage;\n    }\n    ngOnInit() {}\n    dismiss() {\n      // using the injected ModalController this page\n      // can \"dismiss\" itself and optionally pass back data\n      this.modalCtrl.dismiss({\n        'dismissed': true\n      });\n    }\n    typeChange() {\n      switch (this.roomType) {\n        case \"office\":\n          this.roomImage = \"/assets/img/office.svg\";\n          break;\n        case \"bed\":\n          this.roomImage = \"/assets/img/bedroom.svg\";\n          break;\n        case \"kitchen\":\n          this.roomImage = \"/assets/img/kitchen.svg\";\n          break;\n        case \"living\":\n          this.roomImage = \"/assets/img/living.svg\";\n          break;\n        case \"child\":\n          this.roomImage = \"/assets/img/child.svg\";\n          break;\n        default:\n          break;\n      }\n    }\n    addRoom() {\n      if (this.roomName && this.roomType) {\n        this.roomId = this.generateHexString(10);\n        let json = [];\n        json.push({\n          id: this.roomId,\n          name: this.roomName,\n          type: this.roomType,\n          image: this.roomImage,\n          devices: []\n        });\n        console.log(json, this.roomId);\n        this.storage.length().then(res => {\n          if (res > 0) {\n            this.storage.get(\"rooms\").then(val => {\n              if (val == null) {\n                this.storage.set(\"rooms\", json);\n              } else {\n                val.forEach(element => {\n                  json.push(element);\n                });\n                this.storage.set(\"rooms\", json);\n              }\n            });\n          } else {\n            this.storage.set(\"rooms\", json);\n          }\n        });\n        setTimeout(() => {\n          this.dismiss();\n        }, 100);\n      } else {\n        console.log(\"asda\");\n      }\n    }\n    generateHexString(length) {\n      var ret = \"\";\n      while (ret.length < length) {\n        ret += Math.random().toString(16).substring(2);\n      }\n      return ret.substring(0, length);\n    }\n  }\n  AddRoomPage.ɵfac = function AddRoomPage_Factory(t) {\n    return new (t || AddRoomPage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.Storage));\n  };\n  AddRoomPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddRoomPage,\n    selectors: [[\"app-add-room\"]],\n    decls: 31,\n    vars: 2,\n    consts: [[\"mode\", \"ios\"], [\"mode\", \"ios\", \"color\", \"primary\", 1, \"first-toolbar\"], [\"slot\", \"primary\"], [3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"close\"], [\"color\", \"light\"], [1, \"grid-content\", \"ion-no-padding\"], [\"color\", \"tint\", \"mode\", \"ios\", 1, \"homeCard\", \"ion-no-margin\"], [\"position\", \"stacked\"], [\"required\", \"true\", \"placeholder\", \"Please enter your room name\", \"name\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Please select room type\", \"okText\", \"Okay\", \"cancelText\", \"Dismiss\", \"interface\", \"popover\", \"mode\", \"ios\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"mode\", \"ios\", \"value\", \"office\"], [\"value\", \"bed\"], [\"value\", \"kitchen\"], [\"value\", \"living\"], [\"value\", \"child\"], [\"shape\", \"round\", \"expand\", \"block\", 1, \"ion-margin-top\", 3, \"click\"]],\n    template: function AddRoomPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\", 1)(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Add Room\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"ion-buttons\", 2)(5, \"ion-button\", 3);\n        i0.ɵɵlistener(\"click\", function AddRoomPage_Template_ion_button_click_5_listener() {\n          return ctx.dismiss();\n        });\n        i0.ɵɵelement(6, \"ion-icon\", 4);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"ion-content\", 5)(8, \"ion-list\", 6)(9, \"ion-card\", 7)(10, \"ion-card-content\")(11, \"ion-item\", 5)(12, \"ion-label\", 8);\n        i0.ɵɵtext(13, \"Room Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"ion-input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function AddRoomPage_Template_ion_input_ngModelChange_14_listener($event) {\n          return ctx.roomName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"ion-item\", 5)(16, \"ion-label\");\n        i0.ɵɵtext(17, \"Room Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ion-select\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function AddRoomPage_Template_ion_select_ngModelChange_18_listener($event) {\n          return ctx.roomType = $event;\n        })(\"ionChange\", function AddRoomPage_Template_ion_select_ionChange_18_listener() {\n          return ctx.typeChange();\n        });\n        i0.ɵɵelementStart(19, \"ion-select-option\", 11);\n        i0.ɵɵtext(20, \"Office\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"ion-select-option\", 12);\n        i0.ɵɵtext(22, \"Bedroom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"ion-select-option\", 13);\n        i0.ɵɵtext(24, \"Kitchen\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-select-option\", 14);\n        i0.ɵɵtext(26, \"Living Room\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"ion-select-option\", 15);\n        i0.ɵɵtext(28, \"Child Room\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(29, \"ion-button\", 16);\n        i0.ɵɵlistener(\"click\", function AddRoomPage_Template_ion_button_click_29_listener() {\n          return ctx.addRoom();\n        });\n        i0.ɵɵtext(30, \"Add\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngModel\", ctx.roomName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.roomType);\n      }\n    },\n    dependencies: [i3.NgControlStatus, i3.RequiredValidator, i3.NgModel, i1.IonButton, i1.IonButtons, i1.IonCard, i1.IonCardContent, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonSelect, i1.IonSelectOption, i1.IonTitle, i1.IonToolbar, i1.SelectValueAccessor, i1.TextValueAccessor],\n    styles: [\"ion-header[_ngcontent-%COMP%]   .first-toolbar[_ngcontent-%COMP%]{padding-top:36px;padding-bottom:72px}ion-header[_ngcontent-%COMP%]{position:absolute;z-index:1}.grid-content[_ngcontent-%COMP%]{z-index:999;display:block;position:relative;transform:translateY(110px);background:#fff;border-top-left-radius:50px;border-top-right-radius:50px}\"]\n  });\n  return AddRoomPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}